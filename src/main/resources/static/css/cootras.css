:root{
    /* Color tokens (claros y globales) */
    --color-primary:#198754; /* verde principal */
    --color-primary-600:#157347; /* hover del verde */
    --color-primary-50:#ecfdf5; /* fondo suave */
    --color-bg:#f6f7f9; /* fondo app */
    --color-text:#1f2937; /* texto principal */
    --color-muted:#6b7280; /* texto secundario */
    --color-border:#e5e7eb; /* bordes suaves */
    --focus-ring:rgba(25,135,84,.15); /* halo de enfoque */

    /* Radii y sombras */
    --radius-md:12px;
    --radius-sm:8px;
    --shadow-lg:0 6px 20px rgba(16,24,40,.06);

    /* Layout */
    --header-h:56px;
    --footer-h:40px;
    --sidebar-w:250px;
    --sidebar-mini:64px;

    /* Back-compat con nombres antiguos */
    --brand:var(--color-primary);
    --brand-600:var(--color-primary-600);
    --brand-50:var(--color-primary-50);
    --bg:var(--color-bg);
    --text:var(--color-text);
    --muted:var(--color-muted);
    --border:var(--color-border);
    --radius:var(--radius-md);
    --shadow:var(--shadow-lg);
}
html,body{
    height:100%
}
body{
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
    background:var(--bg);
    color:var(--text);
    overflow:hidden
}
.layout-body{
    min-height:calc(100vh - var(--header-h) - var(--footer-h));
    display:flex;
    padding-left:0!important;
    padding-right:0!important
}
.coostra-layout-row{
    min-height:calc(100vh - var(--header-h) - var(--footer-h));
    --bs-gutter-x:0
}

/* Header */
.app-header{
    position:sticky;
    top:0;
    z-index:1030;
    background:#fff;
    border-bottom:1px solid var(--border);
    box-shadow:var(--shadow)
}
.app-title{
    font-weight:600;
    font-size:1rem
}
.app-subtitle{
    margin-top:-4px;
    font-size:.75rem
}
.icon-button{
    border:none;
    background:#fff;
    color:#334155;
    border-radius:8px;
    padding:.4rem .6rem;
    display:inline-flex;
    align-items:center;
    justify-content:center
}
.icon-button:hover{
    background:#f1f5f9
}
@keyframes iconFlip{
    from{
        transform:rotate(0)
    }
    to{
        transform:rotate(180deg)
    }
}
.icon-anim{
    animation:iconFlip .25s ease
}

/* Sidebar */
.layout-body .sidebar-col{
    flex:0 0 var(--sidebar-w)!important;
    max-width:var(--sidebar-w)!important;
    width:var(--sidebar-w)!important;
    transition:flex-basis .3s ease,max-width .3s ease
}
.layout-body .content-col{
    flex:0 0 calc(100% - var(--sidebar-w))!important;
    max-width:calc(100% - var(--sidebar-w))!important;
    width:calc(100% - var(--sidebar-w))!important;
    transition:max-width .3s ease;
    min-height:calc(100vh - var(--header-h) - var(--footer-h));
    overflow:auto
}
#app-content{
    min-height:calc(100vh - var(--header-h) - var(--footer-h));
    display:flex;
    flex-direction:column;
    overflow:hidden;
    width:100%
}
#page-content{
    width:100%
}
.height-app-coostra .coostra-scroll{
    flex:1 1 auto;
    width:100%;
    overflow-y:auto;
    overflow-x:hidden
}
.app-sidebar{
    background:#fff;
    border-right:1px solid var(--border);
    height:calc(100vh - var(--header-h));
    position:sticky;
    top:var(--header-h);
    overflow-y:auto;
    transition:transform .25s ease,opacity .2s;
    width:var(--sidebar-w)
}
.sidebar-collapsed .app-sidebar{
    opacity:1;
    pointer-events:auto
}
.sidebar-collapsed .layout-body .sidebar-col{
    flex:0 0 var(--sidebar-mini)!important;
    max-width:var(--sidebar-mini)!important;
    display:block!important
}
.sidebar-collapsed .layout-body .content-col{
    flex:0 0 calc(100% - var(--sidebar-mini))!important;
    max-width:calc(100% - var(--sidebar-mini))!important;
    width:calc(100% - var(--sidebar-mini))!important
}
.sidebar-collapsed .app-sidebar{
    width:var(--sidebar-mini)
}
.sidebar-collapsed .brand-text{
    display:none
}
.sidebar-collapsed .nav-text{
    display:none
}
.sidebar-collapsed .menu-text{
    display:none
}
.sidebar-expanding .nav-text{
    opacity:0;
    visibility:hidden
}
/* ocultar todos los textos durante la expansión */
.sidebar-expanding .menu-text{
    opacity:0;
    visibility:hidden
}
.sidebar-collapsed .app-sidebar .nav-link{
    display:flex;
    align-items:center;
    justify-content:center;
    padding:.65rem
}
.sidebar-collapsed .app-sidebar .nav-link i{
    margin:0;
    font-size:1.2rem
}
.sidebar-brand{
    display:flex;
    align-items:center;
    gap:.6rem;
    padding:.9rem 1rem;
    border-bottom:1px solid var(--border)
}
.brand-icon{
    width:36px;
    height:36px;
    border-radius:8px;
    background:var(--brand-50);
    color:var(--brand);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:1.1rem
}
.brand-title{
    font-weight:700;
    line-height:1
}
.brand-sub{
    color:var(--muted);
    font-size:.8rem;
    line-height:1
}
/* unified class for all sidebar texts */
.menu-text{
    white-space:nowrap
}
@keyframes menuFadeIn{
    from{
        opacity:0;
        transform:translateY(-4px)
    }
    to{
        opacity:1;
        transform:translateY(0)
    }
}
.menu-text-show{
    animation:menuFadeIn .28s ease
}

.app-sidebar .nav-link{
    color:#334155;
    border-radius:8px;
    padding:.55rem .75rem
}
.app-sidebar .nav-link:hover{
    background:#f1f5f9;
    color:#111827
}
.app-sidebar .nav-link.active{
    background:var(--brand-50);
    color:var(--brand);
    font-weight:600
}

/* Content area */
.p-4{
    padding:1.25rem!important
}
.content-card{
    background:#fff;
    border:1px solid var(--border);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    width:100%;
    box-sizing:border-box
}

/* Dashboard cards */
.dashboard-grid{
    display:grid;
    grid-template-columns:repeat(4,minmax(0,1fr));
    gap:1rem
}
.card-stat{
    background:#fff;
    border:1px solid var(--border);
    border-radius:var(--radius);
    padding:1rem;
    display:flex;
    align-items:center;
    gap:1rem;
    box-shadow:var(--shadow)
}
.card-stat .icon{
    width:38px;
    height:38px;
    border-radius:999px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    background:var(--brand-50);
    color:var(--brand)
}
.card-stat .value{
    font-weight:700;
    font-size:1.1rem
}
.card-stat .label{
    color:var(--muted);
    font-size:.85rem
}

/* Search */
.search-input{
    border:1px solid var(--border);
    border-radius:10px;
    padding:.5rem 2.5rem .5rem .9rem;
    background:#fff
}
.search-input:focus{
    outline:none;
    border-color:var(--brand)
}

/* Table */
.table{
    background:#fff;
    border-radius:var(--radius);
    overflow:hidden;
    width:100%
}
.table thead th{
    border-bottom:1px solid var(--border);
    color:#475569
}
.table tbody tr:hover{
    background:#f9fafb
}
.table-actions{
    display:flex;
    gap:.5rem
}

/* Badges */
.badge{
    border-radius:999px;
    padding:.25rem .6rem;
    font-weight:600
}
.badge-success{
    background:var(--brand-50);
    color:var(--brand)
}
.badge-warning{
    background:#fff7ed;
    color:#b45309
}
.badge-danger{
    background:#fef2f2;
    color:#b91c1c
}

/* Buttons */
.btn-primary{
    background:var(--brand);
    border-color:var(--brand)
}
.btn-primary:hover{
    background:var(--brand-600);
    border-color:var(--brand-600)
}

/* Modal global estilo */
.modal-content{
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    border:1px solid var(--border)
}
.modal-header{
    border-bottom:1px solid var(--border);
    align-items:flex-start
}
.modal-title{
    font-weight:700;
    color:var(--text)
}
.modal-title-group{
    display:flex;
    flex-direction:column;
    gap:.1rem
}
.modal-subtitle{
    color:var(--muted);
    font-size:.85rem;
    font-style:italic;
    line-height:1.2
}
.modal-footer{
    border-top:1px solid var(--border)
}

/* Tabs estilo (underline verde) */
.nav-tabs{
    border-bottom:1px solid var(--border)
}
.nav-tabs .nav-link{
    border:none;
    color:#475569
}
.nav-tabs .nav-link:hover{
    color:#111827;
    background-color:transparent
}
.nav-tabs .nav-link.active{
    border:none;
    color:var(--text);
    position:relative
}
.nav-tabs .nav-link.active::after{
    content:"";
    position:absolute;
    left:0;
    right:0;
    bottom:-1px;
    height:2px;
    background:var(--brand)
}

/* Inputs redondeados */
.form-control{
    border:1px solid var(--border);
    border-radius:10px
}
.form-control:focus{
    border-color:var(--brand);
    box-shadow:0 0 0 .25rem var(--focus-ring)
}

/* Material Web Components: inputs al 100% y color principal */
mwc-textfield{
    display:block;
    width:100%;
    margin-bottom:.75rem;
    --mdc-theme-primary:var(--brand);
    --mdc-theme-secondary:var(--brand)
}
mwc-textarea{
    display:block;
    width:100%;
    margin-bottom:.75rem;
    --mdc-theme-primary:var(--brand);
    --mdc-theme-secondary:var(--brand)
}

/* Filtros de toolbars, usando color primario */
.toolbar-filters .form-control,.toolbar-filters .form-select{
    border:1px solid var(--border);
    border-radius:10px
}
.toolbar-filters .form-control:focus,.toolbar-filters .form-select:focus{
    border-color:var(--brand);
    box-shadow:0 0 0 .25rem var(--focus-ring)
}

/* DataTables themed con color primario */
.dataTables_wrapper .dataTables_paginate .paginate_button.current{
    background:var(--brand);
    color:#fff!important;
    border-radius:8px
}
.dataTables_wrapper .dataTables_paginate .paginate_button:hover{
    background:var(--brand-50)!important;
    color:var(--brand)!important;
    border-radius:8px
}
.dataTables_wrapper .dataTables_length select{
    border:1px solid var(--border);
    border-radius:10px
}
.dataTables_wrapper .dataTables_filter input{
    border:1px solid var(--border);
    border-radius:10px
}
.dataTables_wrapper .dataTables_filter input:focus{
    border-color:var(--brand);
    box-shadow:0 0 0 .25rem var(--focus-ring)
}

/* Botones footer de modal */
.btn-success{
    background:var(--brand);
    border-color:var(--brand)
}
.btn-success:hover{
    background:var(--brand-600);
    border-color:var(--brand-600)
}
.btn-wide{
    min-width:240px
}
.f-11{
    font-size: 11px;
}
.f-12{
    font-size: 12px;
}
@media (max-width: 575.98px){
    .btn-wide{
        width:100%
    }
}
.btn-outline-secondary{
    color:#334155;
    border-color:#cbd5e1
}
.btn-outline-secondary:hover{
    background:#f1f5f9;
    color:#0f172a;
    border-color:#cbd5e1
}

/* Spinner overlay */
/* spinner global eliminado (no overlay) */

/* Footer */
.app-footer{
    border-top:1px solid var(--border);
    position:sticky;
    bottom:0
}
.text-muted{
    color:#6b7280!important
}

/* Sidebar footer version */
.sidebar-footer small{
    display:inline-flex;
    gap:.25rem;
    align-items:center
}
.sidebar-collapsed .sidebar-footer{
    display:none!important
}

@media (max-width: 991.98px){
    /* Móvil: menú respeta header y footer */
    #appSidebar.offcanvas{
        position:fixed;
        top:var(--header-h);
        bottom:var(--footer-h);
        left:0;
        right:0;
        height:calc(100vh - var(--header-h) - var(--footer-h));
        width:100vw;
        --bs-offcanvas-width:100vw;
        overflow-y:auto;
        z-index:1055
    }
    .layout-body .sidebar-col{
        flex:0 0 0!important;
        max-width:0!important
    }
    .layout-body .content-col{
        flex:0 0 100%!important;
        max-width:100%!important
    }
    body{
        overflow:auto
    }
}
@media (min-width: 992px){
    #appSidebar.offcanvas{
        position:sticky;
        transform:none!important;
        visibility:visible!important
    }
    .offcanvas-backdrop{
        display:none!important
    }
}

@media (max-width: 767.98px){
    .app-title{
        font-size:.95rem
    }
    .brand-title{
        font-size:.95rem
    }
    .brand-sub{
        font-size:.75rem
    }
    .dashboard-grid{
        grid-template-columns:repeat(2,minmax(0,1fr))
    }
}

@media (max-width: 575.98px){
    body{
        font-size:14px
    }
    .dashboard-grid{
        grid-template-columns:repeat(1,minmax(0,1fr))
    }
}
.btn-success[disabled]{
    background:#a7d3b8;
    border-color:#a7d3b8
}
.modal-status{
    display:flex;
    align-items:center;
    gap:.4rem;
    color:var(--brand)
}
.modal-status .spinner-border{
    width:1rem;
    height:1rem
}
.modal-empty{
    min-height:80px;
    display:flex;
    align-items:center;
    justify-content:center
}
/* Spinner global */
#spinner.global-spinner{
    position:fixed;
    left:0;
    top:0;
    width:100%;
    height:100%;
    z-index:2140;
    background:rgba(255,255,255,.65);
    backdrop-filter:saturate(1.2) blur(1px);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:.5rem;
    cursor:progress
}
#spinner .spinner-icon{
    width:2rem;
    height:2rem
}
#spinner .spinner-text{
    font-weight:500;
    max-width:min(85vw,640px);
    text-align:center;
    padding:.25rem .75rem;
    border-radius:var(--radius-sm)
}
#spinner .spinner-icon-img{
    width:80px;
    height:80px;
    object-fit:contain
}
@media (min-width: 576px){
    #spinner .spinner-icon-img{
        width:96px;
        height:96px
    }
}
@media (min-width: 992px){
    #spinner .spinner-icon-img{
        width:120px;
        height:120px
    }
    #spinner .spinner-icon{
        width:2.5rem;
        height:2.5rem
    }
}
@media (min-width: 1200px){
    #spinner .spinner-icon-img{
        width:140px;
        height:140px
    }
    #spinner .spinner-icon{
        width:3rem;
        height:3rem
    }
}
@media (min-width: 1600px){
    #spinner .spinner-icon-img{
        width:160px;
        height:160px
    }
    #spinner .spinner-icon{
        width:3.5rem;
        height:3.5rem
    }
}

.h-auto{
    height: auto !important;
}
.h-100{
    height: 100px !important;
}
.h-100vh{
    height: 100vh !important;
}

.overflow-y{
    overflow-y: auto;
}

.w-100{
    width: 100%;
}
.w-50{
    width: 50%;
}
.w-20{
    width:20%;
}
.w-10{
    width: 10%;
}
#app-content.height-app-coostra{
    min-height:calc(100vh - var(--header-h) - var(--footer-h));
    display:flex;
    flex-direction:column;
    overflow:hidden;
    width:100%
}
mwc-textfield{
    display:block;
    width:100%;
    margin-bottom:.75rem
}
mwc-textarea{
    display:block;
    width:100%;
    margin-bottom:.75rem
}
.ins-item mwc-select{
    display:block;
    width:100%;
}
.material-field{
    background:#f3f4f6;
    border:1px solid rgba(25,135,84,.25);
    border-radius:.75rem;
    padding:.5rem .75rem;
    position:relative
}
.material-field .form-control{
    border:none;
    background:transparent;
    box-shadow:none
}
.material-field .input-group-text{
    background:transparent;
    border:none;
    color:var(--brand)
}
.material-field:after{
    content:"";
    position:absolute;
    left:.75rem;
    right:.75rem;
    bottom:.35rem;
    height:2px;
    background:var(--brand);
    border-radius:2px;
    opacity:.85
}
/* MWC global theming */
:root{
    --mdc-theme-primary: var(--brand);
    --mdc-theme-secondary: var(--brand);
}
mwc-select{
    display:block;
    width:100%;
    margin-bottom:.5rem;
    --mdc-theme-primary: var(--brand);
    --mdc-theme-secondary: var(--brand)
}
.ins-item mwc-select{
    width:100%
}
.app-user-menu{
    border:1px solid var(--border);
    box-shadow:var(--shadow);
    border-radius:16px;
    padding:.25rem;
    min-width:260px;
    overflow:hidden;
    background:#fff;
    animation:menuFade .18s ease;
}
.app-user-menu .dropdown-lista-menu{
    text-decoration:none;
    font-weight:500;
}
.app-user-menu .dropdown_lista_elemt:hover{
    background:#f1f5f9;
    border-radius:12px;
}
.app-user-menu.show{
    display:block
}
.app-user-menu > .d-flex:first-child{
    background:linear-gradient(135deg, var(--brand), #0a7a45);
    color:#fff
}
.app-user-menu > .d-flex:first-child h6{
    color:#fff
}
.app-user-menu .rounded-circle{
    box-shadow:0 0 0 3px rgba(255,255,255,.6);
    border:2px solid rgba(255,255,255,.9)
}
.app-user-menu ul{
    gap:.25rem
}
.app-user-menu .dropdown-lista-menu{
    padding:.5rem .75rem;
    border-radius:10px
}
.app-user-menu .dropdown-lista-menu i{
    font-size:1rem;
    width:20px;
    height:20px;
    display:inline-flex;
    align-items:center;
    justify-content:center
}
.app-user-menu .dropdown_lista_elemt + .dropdown_lista_elemt{
    margin-top:2px
}
.app-user-menu .dropdown-lista-menu.text-030045:hover{
    color:var(--brand)
}
.bg-030045{
    background:#030045 !important
}
.text-030045{
    color:#030045 !important
}
.f-15{
    font-size:15px
}
.f-11{
    font-size:11px
}
@keyframes menuFade{
    from{
        opacity:0;
        transform:translateY(-6px)
    }
    to{
        opacity:1;
        transform:translateY(0)
    }
}
.app-user-avatar{
    width:56px;
    height:56px;
    border:2px solid rgba(255,255,255,.9);
    box-shadow:0 4px 10px rgba(0,0,0,.12)
}
.app-user-avatar i{
    font-size:1.2rem
}
.user-name{
    color:#fff;
    font-weight:700;
    letter-spacing:.2px
}
.user-id{
    color:rgba(255,255,255,.85);
    font-size:.8rem
}

.overflow-x-auto{
    overflow-x: auto !important;
}
.overflow-y-auto{
    overflow-y: auto !important;
}

.cursor{
    cursor: pointer;
}