<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/main}">

    <head>
        <link th:href="@{/css/login.css}" rel="stylesheet" />
    </head>
    
    <body>
        <div layout:fragment="main-content">
            <div id="particles-js"></div>
            <div id="page-content" class="d-flex justify-content-center align-items-center min-vh-100 row m-0"
                 data-title="Inicia sesi√≥n / Registro"
                 data-subtitle="Inicia sesi√≥n o registra tu veh√≠culo, o reg√≠strate como conductor o empleado">
                <div class="card card-login shadow-lg rounded-4 col-xl-12 col-lg-12 col-md-8 col-sm-10 col-11">
                    <div class="row" id="create_empresa">
                        <!-- Imagen solo en escritorio -->
                        <div class="col-lg-6 d-none d-lg-flex justify-content-center align-items-center bg-login-image py-2">
                            <img th:src="@{/img/servicios.png}" class="img-fluid" width="330" alt="Gesti√≥n de Flota"
                                 draggable="false">
                        </div>
                        <!-- Formulario -->
                        <div class="col-lg-6 col-12 m-auto">

                            <div id="pane-email" class="p-4 p-lg-5">
                                <div class="text-center mb-4">
                                    <h1 class="h4 text-gray-900 m-0 p-0">TruckFlow</h1>
                                    <small class="text-muted">Gesti√≥n Integral de Solicitudes</small>
                                </div>
                                <!-- Tabs -->
                                <ul class="nav nav-tabs login-tabs mb-3" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active d-flex align-items-center gap-2" id="tab-email"
                                                data-bs-toggle="tab" data-bs-target="#pane-email-content" type="button" role="tab">
                                            <i class="bi bi-envelope-fill"></i>
                                            <span>Email</span>
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link d-flex align-items-center gap-2" id="tab-otp"
                                                data-bs-toggle="tab" data-bs-target="#pane-otp-content" type="button" role="tab">
                                            <i class="bi bi-telephone-fill"></i>
                                            <span>OTP</span>
                                        </button>
                                    </li>
                                </ul>



                                <div class="tab-content login-actions">
                                    <!-- Email -->
                                    <div class="tab-pane fade show active" id="pane-email-content" role="tabpanel"
                                         aria-labelledby="tab-email">
                                        <form id="form-email" class="m-0 p-0">

                                            <div class="form-floating mb-3">
                                                <input type="email" class="form-control" id="email"
                                                       placeholder="ejemplo@ejemplo.com">
                                                <label for="email">Email:</label>
                                            </div>



                                            <div class="form-floating mb-3 position-relative">
                                                <input id="password" type="password" class="form-control"
                                                       placeholder="Contrase√±a">
                                                <label for="password">Contrase√±a:</label>
                                                <button type="button"
                                                        class="btn position-absolute top-50 end-0 translate-middle-y me-2 border-0 bg-transparent"
                                                        id="togglePassword">
                                                    <i class="bi bi-eye"></i>
                                                </button>
                                            </div>
                                            <button class="btn btn-success w-100 my-2" type="submit">
                                                <i class="bi bi-box-arrow-in-right"></i> Iniciar Sesi√≥n
                                            </button>
                                        </form>
                                        <div class="text-center">
                                            <a id="recuperacion_password"
                                               class="text-decoration-none m-0 p-0 text-black cursor">
                                                ¬øSe te olvid√≥ tu contrase√±a?
                                            </a>
                                        </div>
                                        <div class="text-center m-0 p-0">
                                            <div class="d-flex align-items-center mb-2">
                                                <hr class="flex-grow-1">
                                                <span class="px-2 text-muted small">¬øNo tienes cuenta?</span>
                                                <hr class="flex-grow-1">
                                            </div>
                                            <button id="btn_crear_cuenta" class="btn btn-outline-secondary w-100">
                                                Crear cuenta
                                            </button>
                                        </div>
                                    </div>

                                    <!-- OTP -->
                                    <div class="tab-pane fade" id="pane-otp-content" role="tabpanel" aria-labelledby="tab-otp">
                                        <form id="form-otp" class="mt-2">
                                            <div class="mb-3 input-group">
                                                <span class="input-group-text"><i class="bi bi-envelope-fill"></i></span>
                                                <input id="otp-email" type="email" class="form-control" placeholder="correo@empresa.com" required>
                                            </div>
                                            <button class="btn btn-success m-1 w-100" type="button" id="btn-send-otp">Enviar OTP</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div id="elige_tipo_cuenta" class="d-none my-5">
                                <div class=" border-input">
                                    <div class="d-flex align-items-center text-muted">
                                        <i id="return_panel_email" title="Retroceder al men√∫ principal"
                                           class="bi bi-arrow-left me-2 cursor"></i>
                                        <span>Elige el tipo de cuenta que deseas crear</span>
                                    </div>
                                </div>
                                <div>
                                    <div data-component="documento" data-id="1" data-icono="bi-building" data-titulo="Empresa"
                                         data-class-html="mt-2" data-subtitulo="Crear y gestionar solicitudes de transporte.">
                                    </div>

                                    <div data-component="documento" data-id="2" data-icono="bi-shop" data-titulo="Tienda"
                                         data-subtitulo="Administrar pedidos y solicitudes de transporte.">
                                    </div>

                                    <div data-component="documento" data-id="3" data-icono="bi-person-badge"
                                         data-titulo="Conductor"
                                         data-subtitulo="Registrar y gestionar conductores y sus solicitudes.">
                                    </div>

                                    <div data-component="documento" data-id="4" data-icono="bi-truck" data-titulo="Veh√≠culo"
                                         data-subtitulo="Registrar veh√≠culos y administrar su operaci√≥n.">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="registro_empresa" class="d-none">
                        <div class=" border-input my-2">
                            <div class="d-flex align-items-center text-muted">
                                <i id="return_opciones" title="Retroceder al men√∫ principal"
                                   class="bi bi-arrow-left me-2 cursor"></i>
                                <span id="text_cuenta"></span>
                            </div>
                        </div>
                        <form id="registroForm">
                            <div class="row">

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="text" class="form-control input-global" id="floatingInput"
                                           placeholder="EJ: EMP001">
                                    <label for="floatingInput">C√≥digo de Registro</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="text" id="identificacion" class="form-control input-global"
                                           placeholder="EJ: 900123456-7">
                                    <label for="floatingInput">Identificaci√≥n</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="text" id="nombre" class="form-control input-global"
                                           placeholder="EJ: Juan / Transporte ABC S.A.S">
                                    <label for="floatingInput">Nombre / Raz√≥n Social</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="text" id="apellido" class="form-control input-global" placeholder="P√©rez">
                                    <label for="apellido" class="form-label">Apellido</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="date" id="fechaExpedicion" class="form-control input-global">
                                    <label for="fechaExpedicion" class="form-label">Fecha de Expedici√≥n</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="text" id="ciudadExpedicion" class="form-control input-global"
                                           placeholder="Bogot√°">
                                    <label for="ciudadExpedicion" class="form-label">Ciudad de Expedici√≥n</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="date" id="fechaNacimiento" class="form-control input-global">
                                    <label for="fechaNacimiento" class="form-label">Fecha de Nacimiento</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <label for="genero" class="form-label">G√©nero / Sexo</label>
                                    <select id="genero" class="form-control input-global">
                                        <option value="">Seleccione...</option>
                                        <option value="M">Masculino</option>
                                        <option value="F">Femenino</option>
                                        <option value="O">Otro</option>
                                    </select>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="text" id="direccion" class="form-control input-global"
                                           placeholder="Calle 123 #45-67">
                                    <label for="direccion" class="form-label">Direcci√≥n</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="email" id="correo" class="form-control input-global"
                                           placeholder="correo@dominio.com">
                                    <label for="correo" class="form-label">Correo Electr√≥nico</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="email" id="confirmarCorreo" class="form-control input-global"
                                           placeholder="correo@dominio.com">
                                    <label for="confirmarCorreo" class="form-label">Confirmar Correo</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="text" id="usuario" class="form-control input-global" placeholder="Usuario123">
                                    <label for="usuario" class="form-label">Usuario</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="password" id="password" class="form-control input-global"
                                           placeholder="********">
                                    <label for="password" class="form-label">Contrase√±a</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <select id="tipoLicencia" class="form-select input-global">
                                        <option value="" selected>Seleccione...</option>
                                        <option value="A1">A1</option>
                                        <option value="B1">B1</option>
                                        <option value="C1">C1</option>
                                    </select>
                                    <label for="tipoLicencia" class="form-label">Tipo de Licencia</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <select id="tipoVehiculo" class="form-select input-global">
                                        <option value="" selected>Seleccione...</option>
                                        <option value="Carro">Carro</option>
                                        <option value="Moto">Moto</option>
                                        <option value="Cami√≥n">Cami√≥n</option>
                                    </select>
                                    <label for="tipoVehiculo" class="form-label">Tipo de Veh√≠culo</label>
                                </div>


                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="date" id="soat" class="form-control input-global">
                                    <label for="soat" class="form-label">SOAT (Fecha Vencimiento)</label>
                                </div>

                                <div class="form-floating mb-3 col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                                    <input type="date" id="tecno" class="form-control input-global">
                                    <label for="tecno" class="form-label">Tecnomec√°nica (Fecha Vencimiento)</label>
                                </div>

                            </div>

                            <div class="text-center m-2">
                                <button type="submit" class="btn btn-primary w-50">Registrar</button>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
            <!-- Modal Crear Cuenta -->
            <div class="modal fade" id="modal-register" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="modal-title-group">
                                <h5 class="modal-title">Crear Cuenta</h5>
                                <small class="modal-subtitle">¬øCu√°l es tu rol?</small>
                            </div>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row g-3">
                                <div class="col-12 col-md-6">
                                    <a id="btn-register-empresa"
                                       class="text-decoration-none d-block content-card p-3 cursor-pointer">
                                        <div class="d-flex align-items-center gap-3">
                                            <div class="brand-icon"><i class="bi bi-building"></i></div>
                                            <div>
                                                <div class="fw-bold text-dark">Empresa</div>
                                                <small class="text-muted">Crear y gestionar solicitudes de transporte</small>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                                <div class="col-12 col-md-6">
                                    <a id="btn-register-conductor"
                                       class="text-decoration-none d-block content-card p-3 cursor-pointer">
                                        <div class="d-flex align-items-center gap-3">
                                            <div class="brand-icon"><i class="bi bi-person"></i></div>
                                            <div>
                                                <div class="fw-bold text-dark">Conductor</div>
                                                <small class="text-muted">Buscar y aceptar viajes disponibles</small>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cerrar</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal Recuperar Contrase√±a -->
            <div id="modal_recuperar_password" class="modal fade" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content rounded-4">

                        <!-- Header -->
                        <div class="modal-header border-0">
                            <h5 class="modal-title d-flex align-items-center gap-2">üîë Recuperar contrase√±a</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>

                        <!-- Body -->
                        <div class="modal-body pt-0">

                            <p class="text-muted">
                                Ingresa tu correo electr√≥nico y te enviaremos una contrase√±a temporal
                                a tu bandeja de entrada.
                            </p>

                            <!-- Input correo -->
                            <div class="mb-3">
                                <label class="form-label">Correo electr√≥nico</label>
                                <input type="email" class="form-control" placeholder="correo@gmail.com" required>
                            </div> <!-- Caja informativa -->
                            <div class="alert alert-info">
                                <small>‚Ä¢ Revisa tambi√©n tu carpeta de <strong>Spam</strong> o <strong>No
                                        deseados</strong>.</small><br>
                                <small>‚Ä¢ Si no recibes el correo, cont√°ctanos por WhatsApp soporte.</small>
                            </div>
                        </div>
                        <div class="modal-footer border-0">
                            <button type="button" class="btn btn-danger" data-bs-dismiss="modal"> Cancelar</button>
                            <button type="submit" class="btn btn-success">Enviar</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- modal OTP -->
            <div class="modal fade" id="modal_verificar_otp" tabindex="-1" aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Verificaci√≥n OTP</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form id="form-verify-otp">
                                <div class="mb-3">
                                    <label for="otp-code" class="form-label">C√≥digo OTP</label>
                                    <input type="text" class="form-control" id="otp-code" required>
                                </div>
                                <button type="submit" class="btn btn-primary">Verificar</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <th:block layout:fragment="scripts">
            <script th:src="@{/js/login.js}"></script>
        </th:block>
    </body>
</html>